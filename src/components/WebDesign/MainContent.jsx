import React, { useEffect } from "react";

import Slider from "../Slider/Slider.jsx"

const MainContent = (props) => {

    const { title, text, images, color } = props.data;

    useEffect(() => {
        if (window.matchMedia("(max-width: 719px)").matches) {
            const goBackBtn = document.querySelector('.main__mobile-goback');
            const mainWrap = document.querySelector('.main');
            mainWrap.classList.remove('main--mobShow')
            goBackBtn.addEventListener('click', () => {
                mainWrap.classList.remove('main--mobShow')
            })
        }
    },[])

    return (
        <article className={'main__section'}>
            <button className="main__mobile-goback">
                <svg width="100" height="37" viewBox="0 0 100 37" fill={color} xmlns="http://www.w3.org/2000/svg">
                    <path d="M10.746,5.123C10.369,4.69,9.893,4.357,9.358,4.152C8.784,3.941,8.177,3.836,7.567,3.843
                        c-1.641,0-2.828,0.526-3.561,1.578H3.921l-0.318-1.28H0v2.347h1.59v12.585h2.734v-4.372c0.335,0.156,0.693,0.262,1.06,0.309
                        c0.428,0.064,0.86,0.097,1.293,0.096c0.761,0.014,1.517-0.124,2.226-0.404c0.633-0.26,1.199-0.66,1.653-1.174
                        c0.47-0.543,0.824-1.18,1.039-1.866c0.25-0.797,0.372-1.629,0.36-2.464c0.016-0.812-0.091-1.621-0.318-2.4
                        C11.46,6.182,11.157,5.611,10.746,5.123z M8.913,10.775c-0.119,0.414-0.321,0.799-0.593,1.131c-0.239,0.287-0.545,0.51-0.89,0.65
                        c-0.352,0.138-0.726,0.207-1.103,0.203c-0.382,0-0.763-0.047-1.134-0.139c-0.309-0.063-0.601-0.191-0.858-0.373V7.811
                        c0.144-0.508,0.473-0.942,0.922-1.216c0.444-0.27,0.955-0.41,1.473-0.405c0.325-0.008,0.647,0.058,0.944,0.19
                        C7.97,6.512,8.234,6.71,8.446,6.958C8.9,7.469,9.126,8.194,9.125,9.133C9.136,9.688,9.064,10.242,8.913,10.775z"/>
                    <path d="M19.743,9.005l4.282-4.863h-3.243l-3.476,4.245h-0.636V0.942h-2.755v5.546v8.319h2.755v-4.415h0.742
                        l3.646,4.415h3.434v-2.346H22.52L19.743,9.005z"/>
                    <path d="M35.492,4.76c-0.328-0.329-0.732-0.571-1.177-0.704c-0.478-0.144-0.974-0.216-1.474-0.213
                        c-0.759-0.021-1.511,0.155-2.183,0.512c-0.548,0.29-1.026,0.697-1.399,1.195h-0.084l-0.318-1.408h-3.709v2.346h1.525v8.319h2.756
                        V7.896c0.162-0.466,0.472-0.867,0.88-1.141c0.417-0.302,0.917-0.462,1.431-0.458c0.27-0.007,0.538,0.04,0.789,0.139
                        c0.252,0.099,0.48,0.247,0.674,0.437c0.387,0.384,0.582,1.01,0.582,1.866v6.059h2.756V8.173c0.018-0.704-0.08-1.407-0.286-2.08
                        C36.104,5.597,35.844,5.141,35.492,4.76z"/>
                    <path d="M46.322,4.142l-2.057,7.657h-0.795l-3.073-7.657h-2.999l4.408,10.665h1.506
                        c-0.15,0.529-0.391,1.027-0.711,1.473c-0.119,0.143-0.269,0.258-0.438,0.334c-0.17,0.078-0.354,0.115-0.539,0.111H38.99v2.453h2.635
                        c0.576,0.016,1.146-0.12,1.655-0.393c0.476-0.279,0.886-0.662,1.197-1.119c0.365-0.534,0.664-1.111,0.89-1.718
                        c0.266-0.661,0.515-1.39,0.795-2.187l2.276-7.273h1.561V4.142H46.322z"/>
                    <path d="M-10.921,2l-8,8l8,8l2.27-2.27l-5.73-5.73l5.73-5.73L-10.921,2z"/>
                </svg>
            </button>
            <div className={'main__text-wrap'}>
                <h1 className={'main__section-title section-title'}>{title}</h1>
                <div className={'main__text'} dangerouslySetInnerHTML={{__html: text}} />
            </div>
            <Slider
                images = { images }
                color = { color }
            />
        </article>
    )
}

export default MainContent;
